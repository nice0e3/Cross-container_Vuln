services:
  nginx:
    image: nginx:1
    volumes:
      - ./www:/usr/share/nginx/html
      - ./default.conf:/etc/nginx/conf.d/default.conf
      - php-sock:/var/run/php   # ğŸ‘ˆ å…±äº« socket
    depends_on:
      - php
    ports:
      - "8080:80"

  php:
      image: php:7.2.10-fpm
      volumes:
        - ./www:/var/www/html
        # å°†ä½ çš„ socket é…ç½®å‘½åä¸º zz å¼€å¤´ï¼Œç¡®ä¿ä¼˜å…ˆçº§æœ€é«˜
        - ./php-fpm/socket.conf:/usr/local/etc/php-fpm.d/zz-socket.conf:ro
        - php-sock:/var/run/php

volumes:
  php-sock:
